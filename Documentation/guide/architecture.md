# Архітектурні рішення

## Ядро програми

Весь ключовий код програми міститься в KCTT.cpp. Це старт програми, мета якого налаштувати поточне середовище програми, її візуальний вигляд, а також запуск стартового меню з можливістю авторизації та виведенням причетних розробників.

## Зберігання даних програми

Для того, щоб у процесі роботи над функціональністю системи не виникало великих проблем із маніпуляціями даними, було реалізовано такі технічні рішення:

### Глобальний стор

Глобальний статичний клас GlobalStore, де зберігаються дані авторизованого користувача, локальні сховища подій, квитків, користувачів, а також початкова ініціалізація даних.

### Локальні стори

Це спеціалізовані класи, які займаються сховищем певного типу даних і надають методи для додавання, видалення, отримання даних з використанням різних способів, передбачених класом.

У проєкті вони використовуються в глобальному сторі, але так само мають можливість створення локальних сховищ.

## Авторизація

Для розподілу ролей було ухвалено рішення створити абстрактний клас User, мета якого - визначити поля, які мають бути як для Адміністратора, так і для Покупця.

Це ім'я, логін, пароль, роль і ще деякі методи (про них далі). Коли на початковому екрані користувач вводить логін і пароль, ядро системи робить пошук за логіном, а також звіряє паролі через внутрішню функцію User класу.

## Розподіл ролей

Ми створюємо дочірні класи Admin і Customer, які успадковуються від User. Оскільки сховище користувачів використовує батьківський клас User, для визначення ролі в дочірніх класах у конструкторі ми перевизначаємо роль цього користувача.

## Вибір дій

Після того, як користувач авторизувався, ядро системи викликає функції User, які виводять меню й активують його, просячи користувача ввести потрібний символ. Щоб меню дій були різні для Адміністратора і Покупця, у дочірніх класах User йде перевизначення цих методів, щоб покрити всю необхідну функціональність системи.

## Функціональність

Усі можливі дії Адміністратора і Користувача розбиті на функції і займаються маніпулюванням даних у сховищах. Там так само реалізовано перевірки на існування і коректність, які не дають зламати систему.
